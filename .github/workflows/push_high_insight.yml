name: Push High-Insight Dataset
on:
  workflow_dispatch:

jobs:
  push:
    runs-on: ubuntu-latest
    permissions:
      contents: write  # ì €ì¥ì†Œì— ì“°ê¸° ê¶Œí•œ ë¶€ì—¬

    steps:
      - name: ì²´í¬ì•„ì›ƒ ì½”ë“œ
        uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          persist-credentials: true
          fetch-depth: 0

      - name: ğŸ”– í˜„ì¬ ì»¤ë°‹ ì •ë³´ ì¶œë ¥
        run: |
          echo "ğŸ” SHA: $(git rev-parse HEAD)"
          echo "ğŸ“ Commit message: $(git log -1 --pretty=%B)"

      - name: Push high_insight_qa_dataset.json
        run: |
          git add data/qa/high_insight_qa_dataset.json
          git diff --cached --quiet || git commit -m "chore: update high_insight_qa_dataset.json [skip ci]"
          git push